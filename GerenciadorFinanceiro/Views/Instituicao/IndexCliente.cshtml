@model IEnumerable<GerenciadorFinanceiro.Models.instituicao>

@{
    <!-- ViewBag.Title = "Index"; -->
    ViewBag.Title = "Instituicao";
    ViewBag.TituloPagina = "Instituicaos Cadastrados";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- <h2>Index</h2> -->

<div class="col-12" style="text-align:right;margin-bottom:15px;">
    <span class="btn btn-outline-success create" data-toggle="tooltip" title="Adicionar Cliente"> <span class="fas fa-plus"></span> Cliente</span>
</div>
<div class="col-md-12">
    <table class="table table-hover table-responsive-sm" id="tabela">
        <thead>
            <tr>
                <th data-toggle="tooltip" title="Nome">
                    @*@Html.DisplayNameFor(model => model.nome)*@
                    <i class="fas fa-signature" style="color:rebeccapurple"></i>
                </th>
                <th data-toggle="tooltip" title="CNPJ">
                    @*@Html.DisplayNameFor(model => model.cnpj)*@
                    <i class="fas fa-address-card" style="color:rebeccapurple"></i>
                </th>
                <th data-toggle="tooltip" title="Email">
                    @*@Html.DisplayNameFor(model => model.email)*@
                    <i class="fas fa-envelope-open" style="color:rebeccapurple"></i>
                </th>
                <th data-toggle="tooltip" title="Telefone primário">
                    @*@Html.DisplayNameFor(model => model.telefone1)*@
                    <i class="fas fa-mobile-alt" style="color:rebeccapurple"></i>
                </th>
                <th data-toggle="tooltip" title="Telefone secundário">
                    @*@Html.DisplayNameFor(model => model.telefone2)*@
                    <i class="fas fa-phone" style="color:rebeccapurple"></i>
                </th>
                <th data-toggle="tooltip" title="Responsável">
                    @*@Html.DisplayNameFor(model => model.responsavel)*@
                    <i class="fas fa-user-tie" style="color:rebeccapurple"></i>
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {
            <tr class="col-12" data-placement="top" title="Visualizar Cliente" onmouseover="this.style.backgroundColor='#C2E6FB'" onmouseout="this.style.backgroundColor=''" style="cursor:pointer;">
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.nome)
                </td>
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.cnpj)
                </td>
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.email)
                </td>
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.telefone1)
                </td>
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.telefone2)
                </td>
                <td class="text-uppercase edit " data-id="@item.id" data-toggle="tooltip" title="Visualizar Cliente">
                    @Html.DisplayFor(modelItem => item.responsavel)
                </td>
                <td>

                    <!-- @Html.ActionLink("Edit", "Edit", new { id=item.id }) |
        @Html.ActionLink("Details", "Details", new { id=item.id }) |
        @Html.ActionLink("Delete", "Delete", new { id=item.id }) -->
                    <span data-id="@item.id" class="delete far fa-trash-alt" data-toggle="tooltip" title="Deletar Cliente" style="cursor:alias"></span>
                </td>
            </tr>
            }
        <tbody>
    </table>
</div>


<div class="modal" id="div-visualizacao">

</div>

<script type="text/javascript">



    $(".edit").click(function () {
        var id = $(this).attr("data-id");
        $("#div-visualizacao").load("/Instituicao/Edit/" + id, function () {
            $("#div-visualizacao").modal("show");
        })
    });

    $(".delete").click(function () {
        var id = $(this).attr("data-id");
        $("#div-visualizacao").load("/Instituicao/Delete/" + id, function () {
            $("#div-visualizacao").modal("show");
        })
    });

    $(".create").click(function () {
        var id = $(this).attr("data-id");
        $("#div-visualizacao").load("/Instituicao/CreateCliente/", function () {
            $("#div-visualizacao").modal();
        })
    });
</script>

